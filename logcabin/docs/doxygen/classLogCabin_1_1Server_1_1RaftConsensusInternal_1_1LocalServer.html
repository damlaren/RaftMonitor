<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>LogCabin: LogCabin::Server::RaftConsensusInternal::LocalServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LogCabin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLogCabin.html">LogCabin</a></li><li class="navelem"><a class="el" href="namespaceLogCabin_1_1Server.html">Server</a></li><li class="navelem"><a class="el" href="namespaceLogCabin_1_1Server_1_1RaftConsensusInternal.html">RaftConsensusInternal</a></li><li class="navelem"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html">LocalServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LogCabin::Server::RaftConsensusInternal::LocalServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A type of <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> for the local process.  
 <a href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LogCabin::Server::RaftConsensusInternal::LocalServer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.png" usemap="#LogCabin::Server::RaftConsensusInternal::LocalServer_map" alt=""/>
  <map id="LogCabin::Server::RaftConsensusInternal::LocalServer_map" name="LogCabin::Server::RaftConsensusInternal::LocalServer_map">
<area href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s..." alt="LogCabin::Server::RaftConsensusInternal::Server" shape="rect" coords="0,0,319,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a04ba6976e9e92986869fe14a3da65166"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a04ba6976e9e92986869fe14a3da65166">LocalServer</a> (uint64_t <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ac1b2d6d134b4c41baf0220a0c6e587b7">serverId</a>, <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html">RaftConsensus</a> &amp;<a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#acb15fa69e6a58e5b11e0b18454f679ea">consensus</a>)</td></tr>
<tr class="separator:a04ba6976e9e92986869fe14a3da65166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e946ae3c1e53dfd90c9796b02930e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#af8e946ae3c1e53dfd90c9796b02930e5">~LocalServer</a> ()</td></tr>
<tr class="separator:af8e946ae3c1e53dfd90c9796b02930e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbe0af35379c8891b25994424e5abe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#acbbe0af35379c8891b25994424e5abe5">exit</a> ()</td></tr>
<tr class="memdesc:acbbe0af35379c8891b25994424e5abe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any threads belonging to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> to exit.  <a href="#acbbe0af35379c8891b25994424e5abe5">More...</a><br /></td></tr>
<tr class="separator:acbbe0af35379c8891b25994424e5abe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e344c14b56bde9c89ce29b8d4ae4f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#ac3e344c14b56bde9c89ce29b8d4ae4f9">beginRequestVote</a> ()</td></tr>
<tr class="memdesc:ac3e344c14b56bde9c89ce29b8d4ae4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin requesting the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>'s vote in the current election.  <a href="#ac3e344c14b56bde9c89ce29b8d4ae4f9">More...</a><br /></td></tr>
<tr class="separator:ac3e344c14b56bde9c89ce29b8d4ae4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59663bf7fc26786c1ef25c90ece3bfa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a59663bf7fc26786c1ef25c90ece3bfa5">beginLeadership</a> ()</td></tr>
<tr class="memdesc:a59663bf7fc26786c1ef25c90ece3bfa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin replicating to the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> in the current term.  <a href="#a59663bf7fc26786c1ef25c90ece3bfa5">More...</a><br /></td></tr>
<tr class="separator:a59663bf7fc26786c1ef25c90ece3bfa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a6c42fe404b4a624b6b3660b505fe62"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a0a6c42fe404b4a624b6b3660b505fe62">getLastAgreeIndex</a> () const </td></tr>
<tr class="memdesc:a0a6c42fe404b4a624b6b3660b505fe62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the largest entry ID for which this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is known to share the same entries up to and including this entry with our log.  <a href="#a0a6c42fe404b4a624b6b3660b505fe62">More...</a><br /></td></tr>
<tr class="separator:a0a6c42fe404b4a624b6b3660b505fe62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7791d0dedf53d637f6a2df75caa4b36c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a7791d0dedf53d637f6a2df75caa4b36c">haveVote</a> () const </td></tr>
<tr class="memdesc:a7791d0dedf53d637f6a2df75caa4b36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> has awarded us its vote for this term.  <a href="#a7791d0dedf53d637f6a2df75caa4b36c">More...</a><br /></td></tr>
<tr class="separator:a7791d0dedf53d637f6a2df75caa4b36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36cd81c3d4ae8293f4a5219d0c6d121"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#ad36cd81c3d4ae8293f4a5219d0c6d121">getLastAckEpoch</a> () const </td></tr>
<tr class="memdesc:ad36cd81c3d4ae8293f4a5219d0c6d121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the latest time this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> acknowledged our current term.  <a href="#ad36cd81c3d4ae8293f4a5219d0c6d121">More...</a><br /></td></tr>
<tr class="separator:ad36cd81c3d4ae8293f4a5219d0c6d121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702ef4e87b2389c19c3540875af24b05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a702ef4e87b2389c19c3540875af24b05">interrupt</a> ()</td></tr>
<tr class="memdesc:a702ef4e87b2389c19c3540875af24b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel any outstanding RPCs to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>.  <a href="#a702ef4e87b2389c19c3540875af24b05">More...</a><br /></td></tr>
<tr class="separator:a702ef4e87b2389c19c3540875af24b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a30d84e679c9df0e57b61ee404dd766"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a4a30d84e679c9df0e57b61ee404dd766">isCaughtUp</a> () const </td></tr>
<tr class="memdesc:a4a30d84e679c9df0e57b61ee404dd766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true once this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is ready to be added to the cluster.  <a href="#a4a30d84e679c9df0e57b61ee404dd766">More...</a><br /></td></tr>
<tr class="separator:a4a30d84e679c9df0e57b61ee404dd766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce146d3470eac69cfc9baf9ca378df8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a3ce146d3470eac69cfc9baf9ca378df8">scheduleHeartbeat</a> ()</td></tr>
<tr class="memdesc:a3ce146d3470eac69cfc9baf9ca378df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the next heartbeat <a class="el" href="namespaceLogCabin_1_1RPC.html">RPC</a> happen soon.  <a href="#a3ce146d3470eac69cfc9baf9ca378df8">More...</a><br /></td></tr>
<tr class="separator:a3ce146d3470eac69cfc9baf9ca378df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae52f0bcdd34d29f22a67bf194a2438"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#aeae52f0bcdd34d29f22a67bf194a2438">dumpToStream</a> (std::ostream &amp;os) const </td></tr>
<tr class="memdesc:aeae52f0bcdd34d29f22a67bf194a2438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual method for operator&lt;&lt;.  <a href="#aeae52f0bcdd34d29f22a67bf194a2438">More...</a><br /></td></tr>
<tr class="separator:aeae52f0bcdd34d29f22a67bf194a2438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html">LogCabin::Server::RaftConsensusInternal::Server</a></td></tr>
<tr class="memitem:a89339f6c3b0d20e114d6b110ff638ee8 inherit pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a89339f6c3b0d20e114d6b110ff638ee8">Server</a> (uint64_t <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ac1b2d6d134b4c41baf0220a0c6e587b7">serverId</a>)</td></tr>
<tr class="memdesc:a89339f6c3b0d20e114d6b110ff638ee8 inherit pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a89339f6c3b0d20e114d6b110ff638ee8">More...</a><br /></td></tr>
<tr class="separator:a89339f6c3b0d20e114d6b110ff638ee8 inherit pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fd29479452761eeba68d7e577f34d8 inherit pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ae9fd29479452761eeba68d7e577f34d8">~Server</a> ()</td></tr>
<tr class="memdesc:ae9fd29479452761eeba68d7e577f34d8 inherit pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ae9fd29479452761eeba68d7e577f34d8">More...</a><br /></td></tr>
<tr class="separator:ae9fd29479452761eeba68d7e577f34d8 inherit pub_methods_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acb15fa69e6a58e5b11e0b18454f679ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html">RaftConsensus</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#acb15fa69e6a58e5b11e0b18454f679ea">consensus</a></td></tr>
<tr class="separator:acb15fa69e6a58e5b11e0b18454f679ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb49b56a95bb00a9e51c40565ab57bf5"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#afb49b56a95bb00a9e51c40565ab57bf5">lastSyncedIndex</a></td></tr>
<tr class="memdesc:afb49b56a95bb00a9e51c40565ab57bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The index of the last log entry that has been flushed to disk.  <a href="#afb49b56a95bb00a9e51c40565ab57bf5">More...</a><br /></td></tr>
<tr class="separator:afb49b56a95bb00a9e51c40565ab57bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html">LogCabin::Server::RaftConsensusInternal::Server</a></td></tr>
<tr class="memitem:ac1b2d6d134b4c41baf0220a0c6e587b7 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memItemLeft" align="right" valign="top">const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ac1b2d6d134b4c41baf0220a0c6e587b7">serverId</a></td></tr>
<tr class="memdesc:ac1b2d6d134b4c41baf0220a0c6e587b7 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ID of this server.  <a href="#ac1b2d6d134b4c41baf0220a0c6e587b7">More...</a><br /></td></tr>
<tr class="separator:ac1b2d6d134b4c41baf0220a0c6e587b7 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd1eab8f828c439da51796044ad6451 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a0cd1eab8f828c439da51796044ad6451">address</a></td></tr>
<tr class="memdesc:a0cd1eab8f828c439da51796044ad6451 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="mdescLeft">&#160;</td><td class="mdescRight">The network address at which this server may be available.  <a href="#a0cd1eab8f828c439da51796044ad6451">More...</a><br /></td></tr>
<tr class="separator:a0cd1eab8f828c439da51796044ad6451 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9208d78c7fa30913a15d27fd58a57c54 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a9208d78c7fa30913a15d27fd58a57c54">gcFlag</a></td></tr>
<tr class="memdesc:a9208d78c7fa30913a15d27fd58a57c54 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally by <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Configuration.html" title="A configuration defines the servers that are part of the cluster. ">Configuration</a> for garbage collection.  <a href="#a9208d78c7fa30913a15d27fd58a57c54">More...</a><br /></td></tr>
<tr class="separator:a9208d78c7fa30913a15d27fd58a57c54 inherit pub_attribs_classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A type of <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> for the local process. </p>
<p>There will only be one instance of this class. Most of these methods don't do much, but they are needed to satisfy the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> interface. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00199">199</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a04ba6976e9e92986869fe14a3da65166"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LogCabin::Server::RaftConsensusInternal::LocalServer::LocalServer </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>serverId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html">RaftConsensus</a> &amp;&#160;</td>
          <td class="paramname"><em>consensus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00072">72</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="af8e946ae3c1e53dfd90c9796b02930e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LogCabin::Server::RaftConsensusInternal::LocalServer::~LocalServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00079">79</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acbbe0af35379c8891b25994424e5abe5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LogCabin::Server::RaftConsensusInternal::LocalServer::exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inform any threads belonging to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> to exit. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ae4af8d452636e4d3fada9eb686416143">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00095">95</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ac3e344c14b56bde9c89ce29b8d4ae4f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LogCabin::Server::RaftConsensusInternal::LocalServer::beginRequestVote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Begin requesting the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>'s vote in the current election. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#aab43402fe28b4fac77a2a53da7f7c779">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00084">84</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a59663bf7fc26786c1ef25c90ece3bfa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LogCabin::Server::RaftConsensusInternal::LocalServer::beginLeadership </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Begin replicating to the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> in the current term. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ad03f113b797b25406325dde9bcf78fb2">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00089">89</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0a6c42fe404b4a624b6b3660b505fe62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t LogCabin::Server::RaftConsensusInternal::LocalServer::getLastAgreeIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the largest entry ID for which this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is known to share the same entries up to and including this entry with our log. </p>
<p>This is used for advancing the leader's commitIndex. Monotonically increases within a term.</p>
<dl class="section warning"><dt>Warning</dt><dd>Only valid when we're leader. </dd></dl>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ab54a3a7c21b87f7d0b93babbbbc3d00a">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00106">106</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a7791d0dedf53d637f6a2df75caa4b36c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LogCabin::Server::RaftConsensusInternal::LocalServer::haveVote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> has awarded us its vote for this term. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a0651a28c215025bab21d9617b20544ff">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00112">112</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad36cd81c3d4ae8293f4a5219d0c6d121"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t LogCabin::Server::RaftConsensusInternal::LocalServer::getLastAckEpoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the latest time this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> acknowledged our current term. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a78554a4aaedbe99eca7dbb652b0ba355">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00100">100</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a702ef4e87b2389c19c3540875af24b05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LogCabin::Server::RaftConsensusInternal::LocalServer::interrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel any outstanding RPCs to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>. </p>
<p>The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#af56e0aa8cbf6377047a1737c461e84e9">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00118">118</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a4a30d84e679c9df0e57b61ee404dd766"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LogCabin::Server::RaftConsensusInternal::LocalServer::isCaughtUp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true once this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is ready to be added to the cluster. </p>
<p>This means it has received enough of our log to where it is not expected to cause an availability problem when added to the cluster configuration. Should monotonically change from false to true. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#abaabd1bf45eefc51e4d99548a2c71eb1">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00123">123</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a3ce146d3470eac69cfc9baf9ca378df8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LogCabin::Server::RaftConsensusInternal::LocalServer::scheduleHeartbeat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make the next heartbeat <a class="el" href="namespaceLogCabin_1_1RPC.html">RPC</a> happen soon. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a33c58fbb1b5f1b39cfd9cd941ab2b153">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00129">129</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aeae52f0bcdd34d29f22a67bf194a2438"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; LogCabin::Server::RaftConsensusInternal::LocalServer::dumpToStream </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual method for operator&lt;&lt;. </p>

<p>Implements <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a671550310e27d14b8253800119a8ed72">LogCabin::Server::RaftConsensusInternal::Server</a>.</p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00134">134</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="acb15fa69e6a58e5b11e0b18454f679ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html">RaftConsensus</a>&amp; LogCabin::Server::RaftConsensusInternal::LocalServer::consensus</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00213">213</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>

</div>
</div>
<a class="anchor" id="afb49b56a95bb00a9e51c40565ab57bf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t LogCabin::Server::RaftConsensusInternal::LocalServer::lastSyncedIndex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The index of the last log entry that has been flushed to disk. </p>
<p>Valid for leaders only. Returned by <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a0a6c42fe404b4a624b6b3660b505fe62" title="Return the largest entry ID for which this Server is known to share the same entries up to and includ...">getLastAgreeIndex()</a> and used to advance the leader's commitIndex. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00219">219</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Server/<a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a></li>
<li>Server/<a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 14 2014 13:49:45 for LogCabin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
