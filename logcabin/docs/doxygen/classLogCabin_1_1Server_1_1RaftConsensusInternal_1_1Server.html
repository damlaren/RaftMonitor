<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>LogCabin: LogCabin::Server::RaftConsensusInternal::Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LogCabin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLogCabin.html">LogCabin</a></li><li class="navelem"><a class="el" href="namespaceLogCabin_1_1Server.html">Server</a></li><li class="navelem"><a class="el" href="namespaceLogCabin_1_1Server_1_1RaftConsensusInternal.html">RaftConsensusInternal</a></li><li class="navelem"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html">Server</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LogCabin::Server::RaftConsensusInternal::Server Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A base class for known servers in the cluster, including this process (see <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html" title="A type of Server for the local process. ">LocalServer</a>) and others (see <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html" title="Represents another server in the cluster. ">Peer</a>).  
 <a href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LogCabin::Server::RaftConsensusInternal::Server:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.png" usemap="#LogCabin::Server::RaftConsensusInternal::Server_map" alt=""/>
  <map id="LogCabin::Server::RaftConsensusInternal::Server_map" name="LogCabin::Server::RaftConsensusInternal::Server_map">
<area href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html" title="A type of Server for the local process. " alt="LogCabin::Server::RaftConsensusInternal::LocalServer" shape="rect" coords="0,56,319,80"/>
<area href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html" title="Represents another server in the cluster. " alt="LogCabin::Server::RaftConsensusInternal::Peer" shape="rect" coords="329,56,648,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89339f6c3b0d20e114d6b110ff638ee8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a89339f6c3b0d20e114d6b110ff638ee8">Server</a> (uint64_t <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ac1b2d6d134b4c41baf0220a0c6e587b7">serverId</a>)</td></tr>
<tr class="memdesc:a89339f6c3b0d20e114d6b110ff638ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a89339f6c3b0d20e114d6b110ff638ee8">More...</a><br /></td></tr>
<tr class="separator:a89339f6c3b0d20e114d6b110ff638ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fd29479452761eeba68d7e577f34d8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ae9fd29479452761eeba68d7e577f34d8">~Server</a> ()</td></tr>
<tr class="memdesc:ae9fd29479452761eeba68d7e577f34d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ae9fd29479452761eeba68d7e577f34d8">More...</a><br /></td></tr>
<tr class="separator:ae9fd29479452761eeba68d7e577f34d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab43402fe28b4fac77a2a53da7f7c779"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#aab43402fe28b4fac77a2a53da7f7c779">beginRequestVote</a> ()=0</td></tr>
<tr class="memdesc:aab43402fe28b4fac77a2a53da7f7c779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin requesting the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>'s vote in the current election.  <a href="#aab43402fe28b4fac77a2a53da7f7c779">More...</a><br /></td></tr>
<tr class="separator:aab43402fe28b4fac77a2a53da7f7c779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad03f113b797b25406325dde9bcf78fb2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ad03f113b797b25406325dde9bcf78fb2">beginLeadership</a> ()=0</td></tr>
<tr class="memdesc:ad03f113b797b25406325dde9bcf78fb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin replicating to the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> in the current term.  <a href="#ad03f113b797b25406325dde9bcf78fb2">More...</a><br /></td></tr>
<tr class="separator:ad03f113b797b25406325dde9bcf78fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4af8d452636e4d3fada9eb686416143"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ae4af8d452636e4d3fada9eb686416143">exit</a> ()=0</td></tr>
<tr class="memdesc:ae4af8d452636e4d3fada9eb686416143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform any threads belonging to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> to exit.  <a href="#ae4af8d452636e4d3fada9eb686416143">More...</a><br /></td></tr>
<tr class="separator:ae4af8d452636e4d3fada9eb686416143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78554a4aaedbe99eca7dbb652b0ba355"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a78554a4aaedbe99eca7dbb652b0ba355">getLastAckEpoch</a> () const =0</td></tr>
<tr class="memdesc:a78554a4aaedbe99eca7dbb652b0ba355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the latest time this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> acknowledged our current term.  <a href="#a78554a4aaedbe99eca7dbb652b0ba355">More...</a><br /></td></tr>
<tr class="separator:a78554a4aaedbe99eca7dbb652b0ba355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab54a3a7c21b87f7d0b93babbbbc3d00a"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ab54a3a7c21b87f7d0b93babbbbc3d00a">getLastAgreeIndex</a> () const =0</td></tr>
<tr class="memdesc:ab54a3a7c21b87f7d0b93babbbbc3d00a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the largest entry ID for which this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is known to share the same entries up to and including this entry with our log.  <a href="#ab54a3a7c21b87f7d0b93babbbbc3d00a">More...</a><br /></td></tr>
<tr class="separator:ab54a3a7c21b87f7d0b93babbbbc3d00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0651a28c215025bab21d9617b20544ff"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a0651a28c215025bab21d9617b20544ff">haveVote</a> () const =0</td></tr>
<tr class="memdesc:a0651a28c215025bab21d9617b20544ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> has awarded us its vote for this term.  <a href="#a0651a28c215025bab21d9617b20544ff">More...</a><br /></td></tr>
<tr class="separator:a0651a28c215025bab21d9617b20544ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56e0aa8cbf6377047a1737c461e84e9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#af56e0aa8cbf6377047a1737c461e84e9">interrupt</a> ()=0</td></tr>
<tr class="memdesc:af56e0aa8cbf6377047a1737c461e84e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel any outstanding RPCs to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>.  <a href="#af56e0aa8cbf6377047a1737c461e84e9">More...</a><br /></td></tr>
<tr class="separator:af56e0aa8cbf6377047a1737c461e84e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaabd1bf45eefc51e4d99548a2c71eb1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#abaabd1bf45eefc51e4d99548a2c71eb1">isCaughtUp</a> () const =0</td></tr>
<tr class="memdesc:abaabd1bf45eefc51e4d99548a2c71eb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true once this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is ready to be added to the cluster.  <a href="#abaabd1bf45eefc51e4d99548a2c71eb1">More...</a><br /></td></tr>
<tr class="separator:abaabd1bf45eefc51e4d99548a2c71eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c58fbb1b5f1b39cfd9cd941ab2b153"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a33c58fbb1b5f1b39cfd9cd941ab2b153">scheduleHeartbeat</a> ()=0</td></tr>
<tr class="memdesc:a33c58fbb1b5f1b39cfd9cd941ab2b153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the next heartbeat <a class="el" href="namespaceLogCabin_1_1RPC.html">RPC</a> happen soon.  <a href="#a33c58fbb1b5f1b39cfd9cd941ab2b153">More...</a><br /></td></tr>
<tr class="separator:a33c58fbb1b5f1b39cfd9cd941ab2b153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671550310e27d14b8253800119a8ed72"><td class="memItemLeft" align="right" valign="top">virtual std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a671550310e27d14b8253800119a8ed72">dumpToStream</a> (std::ostream &amp;os) const =0</td></tr>
<tr class="memdesc:a671550310e27d14b8253800119a8ed72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual method for operator&lt;&lt;.  <a href="#a671550310e27d14b8253800119a8ed72">More...</a><br /></td></tr>
<tr class="separator:a671550310e27d14b8253800119a8ed72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac1b2d6d134b4c41baf0220a0c6e587b7"><td class="memItemLeft" align="right" valign="top">const uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#ac1b2d6d134b4c41baf0220a0c6e587b7">serverId</a></td></tr>
<tr class="memdesc:ac1b2d6d134b4c41baf0220a0c6e587b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ID of this server.  <a href="#ac1b2d6d134b4c41baf0220a0c6e587b7">More...</a><br /></td></tr>
<tr class="separator:ac1b2d6d134b4c41baf0220a0c6e587b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd1eab8f828c439da51796044ad6451"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a0cd1eab8f828c439da51796044ad6451">address</a></td></tr>
<tr class="memdesc:a0cd1eab8f828c439da51796044ad6451"><td class="mdescLeft">&#160;</td><td class="mdescRight">The network address at which this server may be available.  <a href="#a0cd1eab8f828c439da51796044ad6451">More...</a><br /></td></tr>
<tr class="separator:a0cd1eab8f828c439da51796044ad6451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9208d78c7fa30913a15d27fd58a57c54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#a9208d78c7fa30913a15d27fd58a57c54">gcFlag</a></td></tr>
<tr class="memdesc:a9208d78c7fa30913a15d27fd58a57c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally by <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Configuration.html" title="A configuration defines the servers that are part of the cluster. ">Configuration</a> for garbage collection.  <a href="#a9208d78c7fa30913a15d27fd58a57c54">More...</a><br /></td></tr>
<tr class="separator:a9208d78c7fa30913a15d27fd58a57c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:acdc7f77ab69b44149b7427e206545741"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html#acdc7f77ab69b44149b7427e206545741">operator&lt;&lt;</a> (std::ostream &amp;os, const <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html">Server</a> &amp;server)</td></tr>
<tr class="memdesc:acdc7f77ab69b44149b7427e206545741"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print out a <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> for debugging purposes.  <a href="#acdc7f77ab69b44149b7427e206545741">More...</a><br /></td></tr>
<tr class="separator:acdc7f77ab69b44149b7427e206545741"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class for known servers in the cluster, including this process (see <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html" title="A type of Server for the local process. ">LocalServer</a>) and others (see <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html" title="Represents another server in the cluster. ">Peer</a>). </p>
<p>This tracks various bits of state for each server, which is used when we are a candidate or leader. This class does not do any internal locking; it should be accessed only while holding the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> lock. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00105">105</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a89339f6c3b0d20e114d6b110ff638ee8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LogCabin::Server::RaftConsensusInternal::Server::Server </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>serverId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00053">53</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae9fd29479452761eeba68d7e577f34d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LogCabin::Server::RaftConsensusInternal::Server::~Server </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00060">60</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aab43402fe28b4fac77a2a53da7f7c779"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LogCabin::Server::RaftConsensusInternal::Server::beginRequestVote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Begin requesting the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>'s vote in the current election. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#aa7a24ef9188194eefe118684d66a2ec5">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#ac3e344c14b56bde9c89ce29b8d4ae4f9">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="ad03f113b797b25406325dde9bcf78fb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LogCabin::Server::RaftConsensusInternal::Server::beginLeadership </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Begin replicating to the <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> in the current term. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#ad5ba27d28751c0c5c12e3670f7055afd">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a59663bf7fc26786c1ef25c90ece3bfa5">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="ae4af8d452636e4d3fada9eb686416143"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LogCabin::Server::RaftConsensusInternal::Server::exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inform any threads belonging to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> to exit. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a46d99021b75d28c44c31cbe4fe221001">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#acbbe0af35379c8891b25994424e5abe5">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="a78554a4aaedbe99eca7dbb652b0ba355"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t LogCabin::Server::RaftConsensusInternal::Server::getLastAckEpoch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the latest time this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> acknowledged our current term. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a2a60ec5adc78780464eff2eaaf625d86">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#ad36cd81c3d4ae8293f4a5219d0c6d121">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="ab54a3a7c21b87f7d0b93babbbbc3d00a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint64_t LogCabin::Server::RaftConsensusInternal::Server::getLastAgreeIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the largest entry ID for which this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is known to share the same entries up to and including this entry with our log. </p>
<p>This is used for advancing the leader's commitIndex. Monotonically increases within a term.</p>
<dl class="section warning"><dt>Warning</dt><dd>Only valid when we're leader. </dd></dl>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a74f6a5c2c9950c94cf61c1c302f9d84f">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a0a6c42fe404b4a624b6b3660b505fe62">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="a0651a28c215025bab21d9617b20544ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool LogCabin::Server::RaftConsensusInternal::Server::haveVote </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> has awarded us its vote for this term. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a31e4de7206ec311e2bd8e9f912a284d0">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a7791d0dedf53d637f6a2df75caa4b36c">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="af56e0aa8cbf6377047a1737c461e84e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LogCabin::Server::RaftConsensusInternal::Server::interrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel any outstanding RPCs to this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a>. </p>
<p>The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a5daf374d78d59b74c639acef42f8b1e5">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a702ef4e87b2389c19c3540875af24b05">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="abaabd1bf45eefc51e4d99548a2c71eb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool LogCabin::Server::RaftConsensusInternal::Server::isCaughtUp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true once this <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> is ready to be added to the cluster. </p>
<p>This means it has received enough of our log to where it is not expected to cause an availability problem when added to the cluster configuration. Should monotonically change from false to true. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a81973f60b1302672c5d0c582a4638f4b">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a4a30d84e679c9df0e57b61ee404dd766">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="a33c58fbb1b5f1b39cfd9cd941ab2b153"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void LogCabin::Server::RaftConsensusInternal::Server::scheduleHeartbeat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make the next heartbeat <a class="el" href="namespaceLogCabin_1_1RPC.html">RPC</a> happen soon. </p>
<p>Return immediately. The condition variable in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1RaftConsensus.html" title="An implementation of the Raft consensus algorithm. ">RaftConsensus</a> will be notified separately. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#a8cf12a4c6290d1ea99c3e4074fced205">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#a3ce146d3470eac69cfc9baf9ca378df8">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<a class="anchor" id="a671550310e27d14b8253800119a8ed72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::ostream&amp; LogCabin::Server::RaftConsensusInternal::Server::dumpToStream </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual method for operator&lt;&lt;. </p>

<p>Implemented in <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Peer.html#ad76e79f05ed4e34288bf168ed931a6cd">LogCabin::Server::RaftConsensusInternal::Peer</a>, and <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1LocalServer.html#aeae52f0bcdd34d29f22a67bf194a2438">LogCabin::Server::RaftConsensusInternal::LocalServer</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="acdc7f77ab69b44149b7427e206545741"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html">Server</a> &amp;&#160;</td>
          <td class="paramname"><em>server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print out a <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Server.html" title="A base class for known servers in the cluster, including this process (see LocalServer) and others (s...">Server</a> for debugging purposes. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8cc_source.html#l00065">65</a> of file <a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac1b2d6d134b4c41baf0220a0c6e587b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t LogCabin::Server::RaftConsensusInternal::Server::serverId</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ID of this server. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00181">181</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0cd1eab8f828c439da51796044ad6451"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string LogCabin::Server::RaftConsensusInternal::Server::address</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The network address at which this server may be available. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00185">185</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9208d78c7fa30913a15d27fd58a57c54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LogCabin::Server::RaftConsensusInternal::Server::gcFlag</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used internally by <a class="el" href="classLogCabin_1_1Server_1_1RaftConsensusInternal_1_1Configuration.html" title="A configuration defines the servers that are part of the cluster. ">Configuration</a> for garbage collection. </p>

<p>Definition at line <a class="el" href="RaftConsensus_8h_source.html#l00190">190</a> of file <a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Server/<a class="el" href="RaftConsensus_8h_source.html">RaftConsensus.h</a></li>
<li>Server/<a class="el" href="RaftConsensus_8cc_source.html">RaftConsensus.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 14 2014 13:49:45 for LogCabin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
